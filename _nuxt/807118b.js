(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{227:function(t,e,r){"use strict";r(228);e.a={methods:{checkNum:function(t){t.quantity=Number(t.quantity),(isNaN(t.quantity)||t.quantity<1)&&(t.quantity=1)}}}},228:function(t,e,r){"use strict";var n=r(8),o=r(3),c=r(79),d=r(17),f=r(10),l=r(32),v=r(165),h=r(58),_=r(6),m=r(80),C=r(59).f,y=r(22).f,D=r(12).f,N=r(229).trim,x=o.Number,w=x.prototype,E="Number"==l(m(w)),I=function(t){var e,r,n,o,c,d,f,code,l=h(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=N(l)).charCodeAt(0))||45===e){if(88===(r=l.charCodeAt(2))||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+l}for(d=(c=l.slice(2)).length,f=0;f<d;f++)if((code=c.charCodeAt(f))<48||code>o)return NaN;return parseInt(c,n)}return+l};if(c("Number",!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var S,$=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof $&&(E?_((function(){w.valueOf.call(r)})):"Number"!=l(r))?v(new x(I(e)),r,$):I(e)},k=n?C(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)f(x,S=k[A])&&!f($,S)&&D($,S,y(x,S));$.prototype=w,w.constructor=$,d(o,"Number",$)}},229:function(t,e,r){var n=r(14),o="["+r(230)+"]",c=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),f=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(c,"")),2&t&&(r=r.replace(d,"")),r}};t.exports={start:f(1),end:f(2),trim:f(3)}},230:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},231:function(t,e,r){"use strict";r(78);e.a={methods:{addCart:function(t,e){var r=this,n="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping");this.spannerStatus=t.id;var o={product:t.id,quantity:t.quantity};this.$axios.post(n,o).then((function(){"buy"===e?r.$router.push("/cart"):r.$swal.fire({position:"top-end",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:1e3}),r.spannerStatus="",r.$store.dispatch("getCartData")})).catch((function(){"buy"===e?(n="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping"),r.$axios.patch(n,o).then((function(){r.$router.push("/cart")})).catch((function(){r.$router.push("/cart")}))):r.$swal.fire({position:"top-end",icon:"error",title:"重複加入購物車",showConfirmButton:!1,timer:1e3}),r.spannerStatus=""}))}}}},232:function(t,e,r){"use strict";r(166),r(43),r(233);e.a={data:function(){return{stareData:[]}},methods:{addStared:function(t){if(t.stared=!t.stared,t.stared)this.stareData.push({title:t.title});else{var e=$.map(this.stareData,(function(t){return t.title})).indexOf(t.title);this.stareData.splice(e,1)}localStorage.setItem("favoriteWine",JSON.stringify(this.stareData))}}}},233:function(t,e,r){"use strict";var n=r(2),o=r(112),c=r(42),d=r(13),f=r(20),l=r(113),v=r(60),h=r(61),_=r(23),m=h("splice"),C=_("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,D=Math.min;n({target:"Array",proto:!0,forced:!m||!C},{splice:function(t,e){var r,n,h,_,m,C,N=f(this),x=d(N.length),w=o(t,x),E=arguments.length;if(0===E?r=n=0:1===E?(r=0,n=x-w):(r=E-2,n=D(y(c(e),0),x-w)),x+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(h=l(N,n),_=0;_<n;_++)(m=w+_)in N&&v(h,_,N[m]);if(h.length=n,r<n){for(_=w;_<x-n;_++)C=_+r,(m=_+n)in N?N[C]=N[m]:delete N[C];for(_=x;_>x-n+r;_--)delete N[_-1]}else if(r>n)for(_=x-n;_>w;_--)C=_+r-1,(m=_+n-1)in N?N[C]=N[m]:delete N[C];for(_=0;_<r;_++)N[_+w]=arguments[_+2];return N.length=x-n+r,h}})},245:function(t,e,r){"use strict";r.r(e);r(26),r(15),r(40),r(27),r(41),r(31);var n=r(5),o=r(231),c=r(227),d=r(232),f={fetch:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.query,o=t.store,e.id=n.id,r.abrupt("return",Promise.all([o.dispatch("getProductData",n.id)]));case 3:case"end":return r.stop()}}),r)})))()},data:function(){return{id:""}},mixins:[o.a,c.a,d.a],mounted:function(){var t=JSON.parse(localStorage.getItem("favoriteWine"))||[];this.stareData=t,this.addStare()},methods:{addStare:function(){var t=this;this.stareData.forEach((function(e){e.title===t.productData.title&&(t.$store.state.productData.stared=!0)}))}},computed:{productData:function(){return this.$store.state.productData}}},l=r(16),component=Object(l.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"product"},[r("div",{staticClass:"container"},[r("div",{staticClass:"product-main"},[r("div",{staticClass:"product-main-img"},[r("img",{attrs:{src:t.productData.imageUrl}})]),t._v(" "),r("div",{staticClass:"product-main-txt"},[r("div",{staticClass:"product-main-favorite",on:{click:function(e){return e.stopPropagation(),t.addStared(t.productData)}}},[1==t.productData.stared?r("i",{staticClass:"fas fa-bookmark"}):r("i",{staticClass:"far fa-bookmark"})]),t._v(" "),r("h4",{staticClass:"item-winery"},[t._v(t._s(t.productData.options.winery))]),t._v(" "),r("h2",{staticClass:"item-title"},[t._v(t._s(t.productData.title))]),t._v(" "),r("p",{staticClass:"item-info"},[t._v("\n          "+t._s(t.productData.options.year)+" | "+t._s(t.productData.category)+" |\n          "+t._s(t.productData.options.capacity)+"\n        ")]),t._v(" "),r("div",{staticClass:"product-main-box"},[r("div",{staticClass:"product-main-price"},[r("span",{staticClass:"sale-price"},[t._v("$ "+t._s(t._f("currency")(t.productData.price)))]),t._v(" "),r("span",{staticClass:"price"},[t._v("$ "+t._s(t._f("currency")(t.productData.origin_price)))])]),t._v(" "),r("div",{staticClass:"product-main-quantity"},[r("button",{attrs:{type:"button",disabled:t.productData.quantity<=1},on:{click:function(e){t.productData.quantity-=1}}},[r("i",{staticClass:"fas fa-minus"})]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.productData.quantity,expression:"productData.quantity"}],attrs:{type:"text"},domProps:{value:t.productData.quantity},on:{keyup:function(e){return t.checkNum(t.productData)},input:function(e){e.target.composing||t.$set(t.productData,"quantity",e.target.value)}}}),t._v(" "),r("button",{attrs:{type:"button"},on:{click:function(e){t.productData.quantity+=1}}},[r("i",{staticClass:"fas fa-plus"})])])]),t._v(" "),r("div",{staticClass:"product-main-btn"},[r("button",{staticClass:"btn product-main-cart",attrs:{type:"button"},on:{click:function(e){return t.addCart(t.productData)}}},[t._v("\n            加入購物車\n          ")]),t._v(" "),r("button",{staticClass:"btn product-main-buy",attrs:{type:"button"},on:{click:function(e){return t.addCart(t.productData,"buy")}}},[t._v("\n            立即購買\n          ")])])])]),t._v(" "),r("div",{staticClass:"product-info"},[r("div",{staticClass:"product-info-item"},[r("h3",[t._v("酒款介紹")]),t._v(" "),r("div",{staticClass:"product-info-txt"},[r("div",{staticClass:"product-info-txt-item"},[t._m(0),t._v(" "),r("h4",[t._v(t._s(t.productData.options.place))])]),t._v(" "),r("div",{staticClass:"product-info-txt-item"},[t._m(1),t._v(" "),r("h4",[t._v(t._s(t.productData.options.winery))])]),t._v(" "),r("div",{staticClass:"product-info-txt-item"},[t._m(2),t._v(" "),r("h4",[t._v(t._s(t.productData.options.year))])]),t._v(" "),r("div",{staticClass:"product-info-txt-item"},[t._m(3),t._v(" "),r("h4",[t._v(t._s(t.productData.category))])])])]),t._v(" "),r("div",{staticClass:"product-info-item"},[r("h3",[t._v("酒造資訊")]),t._v(" "),r("p",{domProps:{innerHTML:t._s(t.productData.description)}})]),t._v(" "),r("div",{staticClass:"product-info-item"},[r("h3",[t._v("酒評分享")]),t._v(" "),r("p",{domProps:{innerHTML:t._s(t.productData.content)}})])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-map-marker-alt"}),this._v(" 產地 ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-wine-bottle"}),this._v(" 酒廠")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-wine-glass-alt"}),this._v(" 年份")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-leaf"}),this._v(" 品種")])}],!1,null,null,null);e.default=component.exports}}]);