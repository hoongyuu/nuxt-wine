(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{227:function(t,e,n){"use strict";n(228);e.a={methods:{checkNum:function(t){t.quantity=Number(t.quantity),(isNaN(t.quantity)||t.quantity<1)&&(t.quantity=1)}}}},228:function(t,e,n){"use strict";var r=n(8),o=n(3),c=n(79),l=n(17),f=n(10),d=n(32),h=n(165),v=n(58),m=n(6),y=n(80),_=n(59).f,k=n(22).f,w=n(12).f,C=n(229).trim,S=o.Number,D=S.prototype,E="Number"==d(y(D)),N=function(t){var e,n,r,o,c,l,f,code,d=v(t,!1);if("string"==typeof d&&d.length>2)if(43===(e=(d=C(d)).charCodeAt(0))||45===e){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(l=(c=d.slice(2)).length,f=0;f<l;f++)if((code=c.charCodeAt(f))<48||code>o)return NaN;return parseInt(c,r)}return+d};if(c("Number",!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var x,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(E?m((function(){D.valueOf.call(n)})):"Number"!=d(n))?h(new S(N(e)),n,I):N(e)},$=r?_(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;$.length>A;A++)f(S,x=$[A])&&!f(I,x)&&w(I,x,k(S,x));I.prototype=D,D.constructor=I,l(o,"Number",I)}},229:function(t,e,n){var r=n(14),o="["+n(230)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),f=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(l,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},230:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},231:function(t,e,n){"use strict";n(78);e.a={methods:{addCart:function(t,e){var n=this,r="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping");this.spannerStatus=t.id;var o={product:t.id,quantity:t.quantity};this.$axios.post(r,o).then((function(){"buy"===e?n.$router.push("/cart"):n.$swal.fire({position:"top-end",icon:"success",title:"成功加入購物車",showConfirmButton:!1,timer:1e3}),n.spannerStatus="",n.$store.dispatch("getCartData")})).catch((function(){"buy"===e?(r="".concat("https://course-ec-api.hexschool.io/api/").concat("6b69171f-d486-488a-beaf-ee85eb21fa24","/ec/shopping"),n.$axios.patch(r,o).then((function(){n.$router.push("/cart")})).catch((function(){n.$router.push("/cart")}))):n.$swal.fire({position:"top-end",icon:"error",title:"重複加入購物車",showConfirmButton:!1,timer:1e3}),n.spannerStatus=""}))}}}},232:function(t,e,n){"use strict";n(166),n(43),n(233);e.a={data:function(){return{stareData:[]}},methods:{addStared:function(t){if(t.stared=!t.stared,t.stared)this.stareData.push({title:t.title});else{var e=$.map(this.stareData,(function(t){return t.title})).indexOf(t.title);this.stareData.splice(e,1)}localStorage.setItem("favoriteWine",JSON.stringify(this.stareData))}}}},233:function(t,e,n){"use strict";var r=n(2),o=n(112),c=n(42),l=n(13),f=n(20),d=n(113),h=n(60),v=n(61),m=n(23),y=v("splice"),_=m("splice",{ACCESSORS:!0,0:0,1:2}),k=Math.max,w=Math.min;r({target:"Array",proto:!0,forced:!y||!_},{splice:function(t,e){var n,r,v,m,y,_,C=f(this),S=l(C.length),D=o(t,S),E=arguments.length;if(0===E?n=r=0:1===E?(n=0,r=S-D):(n=E-2,r=w(k(c(e),0),S-D)),S+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(v=d(C,r),m=0;m<r;m++)(y=D+m)in C&&h(v,m,C[y]);if(v.length=r,n<r){for(m=D;m<S-r;m++)_=m+n,(y=m+r)in C?C[_]=C[y]:delete C[_];for(m=S;m>S-r+n;m--)delete C[m-1]}else if(n>r)for(m=S-r;m>D;m--)_=m+n-1,(y=m+r-1)in C?C[_]=C[y]:delete C[_];for(m=0;m<n;m++)C[m+D]=arguments[m+2];return C.length=S-r+n,v}})},234:function(t,e,n){var content=n(237);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(65).default)("387b7350",content,!0,{sourceMap:!1})},236:function(t,e,n){"use strict";n(234)},237:function(t,e,n){(e=n(64)(!1)).push([t.i,".spinner{width:20px;height:20px;position:relative}.double-bounce1,.double-bounce2{width:100%;height:100%;border-radius:50%;background-color:#333;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:sk-bounce 2s ease-in-out infinite;animation:sk-bounce 2s ease-in-out infinite}.double-bounce2{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes sk-bounce{0%,to{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce{0%,to{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}",""]),t.exports=e},242:function(t,e,n){"use strict";n.r(e);n(26),n(15),n(40),n(27),n(41),n(31);var r=n(5),o=n(231),c=n(227),l=n(232),f={asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,e.abrupt("return",Promise.all([n.dispatch("getProductsData")]));case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{wineStyle:"",sortData:"",mobile:{category:!1,style:!1},pages:{},spannerStatus:""}},mixins:[o.a,c.a,l.a],mounted:function(){this.$route.query.wineStyle&&(this.wineStyle=this.$route.query.wineStyle);var t=JSON.parse(localStorage.getItem("favoriteWine"))||[];this.stareData=t,this.addStare()},methods:{getProductsData:function(){this.$store.dispatch("getProductsData")},goDetail:function(t){this.$router.push({path:"products/".concat(t.id),query:{id:t.id}})},addStare:function(){var t=this;this.productsData.forEach((function(e){t.stareData.forEach((function(t){e.title===t.title&&(e.stared=!0)}))}))}},computed:{productsData:function(){return this.$store.state.productsData},filterProduct:function(){var t=this,e=[];switch(this.wineStyle){case"其他酒類":this.productsData.forEach((function(t){"清酒"!==t.category&&"梅酒"!==t.category&&"礦泉水"!==t.category||e.push(t)}));break;case"香檳氣泡酒":case"威士忌":case"葡萄酒":this.productsData.forEach((function(n){n.category===t.wineStyle&&e.push(n)}));break;case"熱門酒款":this.productsData.forEach((function(t){!0===t.options.popular&&e.push(t)}));break;default:e=this.productsData}return e.sort((function(a,b){return"highToLow"===t.sortData?b.price-a.price:a.price-b.price})),e}}},d=(n(236),n(16)),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"products"},[t._m(0),t._v(" "),t.wineStyle?n("h2",{staticClass:"products-title"},[t._v("\n    "+t._s(t.wineStyle)+"\n  ")]):n("h2",{staticClass:"products-title"},[t._v("\n    所有酒類\n  ")]),t._v(" "),n("div",{staticClass:"products-header"},[n("div",{staticClass:"container"},[n("button",{staticClass:"products-header-hamburger",on:{click:function(e){t.mobile.category=!t.mobile.category}}},[t._v("\n        分類\n        "),n("i",{staticClass:"fas fa-caret-down"})]),t._v(" "),n("ul",{staticClass:"products-header-category",class:{active:t.mobile.category,style:t.mobile.style}},[n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="所有酒款",t.mobile.category=!1}}},[t._v("所有酒款")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="熱門酒款",t.mobile.category=!1}}},[t._v("熱門酒款")])]),t._v(" "),n("li",[n("span",{on:{click:function(e){t.mobile.style=!t.mobile.style}}},[t._v("\n            酒款分類\n            "),n("i",{staticClass:"fas fa-caret-down"})]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="香檳氣泡酒",t.mobile.category=!1}}},[t._v("\n                氣泡酒\n              ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="葡萄酒",t.mobile.category=!1}}},[t._v("\n                葡萄酒\n              ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="威士忌",t.mobile.category=!1}}},[t._v("\n                威士忌\n              ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.wineStyle="其他酒類",t.mobile.category=!1}}},[t._v("\n                其他酒類\n              ")])])])]),t._v(" "),n("li",{staticClass:"products-header-category-sort"},[n("span",[t._v("\n            依價格排序\n          ")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sortData="highToLow",t.mobile.style=!1}}},[t._v("\n                價格：高到低\n              ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.sortData="lowToHigh",t.mobile.style=!1}}},[t._v("\n                價格：低到高\n              ")])])])])])])]),t._v(" "),n("div",{staticClass:"products-main"},[n("div",{staticClass:"container"},t._l(t.filterProduct,(function(e){return n("div",{key:e.id,staticClass:"products-main-item",on:{click:function(n){return t.goDetail(e)}}},[n("div",{staticClass:"products-main-favorite",on:{click:function(n){return n.stopPropagation(),t.addStared(e)}}},[1==e.stared?n("i",{staticClass:"fas fa-bookmark"}):n("i",{staticClass:"far fa-bookmark"})]),t._v(" "),n("img",{attrs:{src:e.imageUrl}}),t._v(" "),n("div",{staticClass:"products-main-txt"},[n("h2",[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.goDetail(e)}}},[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"products-main-price"},[n("span",{staticClass:"price"},[t._v(" $"+t._s(t._f("currency")(e.origin_price))+" ")]),t._v(" "),n("span",{staticClass:"sale-price"},[t._v("SALE $"+t._s(t._f("currency")(e.price)))])]),t._v(" "),n("div",{staticClass:"products-main-info"},[n("span",[t._v(t._s(e.options.capacity))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"item.quantity"}],attrs:{type:"text"},domProps:{value:e.quantity},on:{keyup:function(n){return t.checkNum(e)},click:function(t){t.stopPropagation()},input:function(n){n.target.composing||t.$set(e,"quantity",n.target.value)}}})]),t._v(" "),n("div",{staticClass:"products-main-btn"},[n("a",{staticClass:"btn-init",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.addCart(e)}}},[t.spannerStatus===e.id?n("div",{staticClass:"spinner"},[n("div",{staticClass:"double-bounce1"}),t._v(" "),n("div",{staticClass:"double-bounce2"})]):t._e(),t._v("\n              加入購物車\n            ")])])])])})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"products-hero"},[e("img",{staticClass:"products-hero-img",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/cheetoblog-8edf4.appspot.com/o/%E9%9B%BB%E5%95%86%E7%B6%B2%E7%AB%99%2Fproducts-hero.png?alt=media&token=ad237ae1-a02c-40fd-8732-e41ed6d1ffbc"}}),this._v(" "),e("img",{staticClass:"products-hero-img--mobile",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/cheetoblog-8edf4.appspot.com/o/%E9%9B%BB%E5%95%86%E7%B6%B2%E7%AB%99%2Fproducts-hero-mobile.png?alt=media&token=c1af88eb-e381-4001-b1db-be254ffd20b2"}}),this._v(" "),e("div",{staticClass:"products-hero-txt"},[e("h2",[this._v("Cheeto's Wine")]),this._v(" "),e("h3",[this._v("\n        過人品味\n        "),e("span",[this._v("匠心獨到")])])])])}],!1,null,null,null);e.default=component.exports}}]);